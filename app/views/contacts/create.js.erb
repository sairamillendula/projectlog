<% if @contact.valid? %>
  $("<%= escape_javascript render(:partial => 'contacts/contact', :locals => { :contact => @contact }) %>").appendTo('#contacts');
  $("#new_contact_dialog").dialog("close");
  $("#no-contact").remove();
<% else %>
  alert("Please fill in all the fields.");
<% end %>