<% if @contact.valid? %>
  $("<%= escape_javascript render(:partial => 'contacts/contact', :locals => { :contact => @contact }) %>").appendTo('#contacts');
  $("#new_contact").remove();
  $('#new_contact_link').show();
<% else %>
  alert("Please fill in all the fields.");
<% end %>